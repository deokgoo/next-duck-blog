{
  "title": "React18 automatic batching (자동 일괄처리)",
  "date": "2022-05-28T00:00:00.000Z",
  "tags": [
    "react",
    "react18",
    "automatic batching",
    "자동 배칭"
  ],
  "draft": false,
  "summary": "React18 대비하자 automatic batching",
  "body": {
    "raw": "\n# Automatic Batching 이란?\n개인적으로 react18에서 핵심 기능 중 하나가 automatic batching 이라고 생각된다.\n\n내부소스, 외부 소스 상관없이 state 업데이트를 일괄처리하여 render가 한번에 이루어 질 수 있도록 하게 한다.\n\n성능을 위해서 state변경을 묶어서 한번에 처리 해주며 render가 한번만 수행 할 수 있도록 도와준다.\n우리는 React17 이전 버전에서는 일괄 처리하기 위해 `ReactDOM.unstable_batchedUpdates` 를 통해 무의미한 렌더링을 피하려고 노력하였고\n\nReact17 버전에서는 자동으로 내부 소스(클릭 이벤트 등) 한에서 batch 처리를 해주었다. \n\n하지만 브라우저 이벤트의 업데이트 외 외부 소스(fetch, setTimeout 등)에 대해서는 일괄 처리하지 않았다.\n\n---\n\n# 기존 batching 은\nReact17 에서도 batching을 지원하지 않은 것이 아니다. 하지만 react18과 다른 점이 있다면\n외부 소스(fetch, setTimeout 등)에 대해서는 일괄처리를 해주지 않았다.\n그래서 성능 개선을 위하여 외부 소스 코드를 사용할때는 `ReactDOM.unstable_batchedUpdates`를 사용해줬었다.\n\n아래 예시는 option을 선택하면 서버에 알리고 옵션 상태를 변경하는 예시가 있다고 가정하자\noption1은 내부 소스이기 때문에 React 17 에서는 자동으로 state를 모아서 한번에 렌더링 한다.\n하지만 option2는 외부 소스이기에 렌더가 두 번 일어난다.\n\n<iframe src=\"https://codesandbox.io/embed/charming-poitras-mgcnci?fontsize=14&hidenavigation=1&theme=dark&view=editor\"\n     style={{width: '100%', height: '500px', border: 'none', borderRadius: '4px', overflow: 'hidden'}}\n     title=\"charming-poitras-mgcnci\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n\n<br/><br/>\n\n# React 18 에서는\n`ReactDOM.createRoot`을 사용하게 되면 내부 소스, 외부 소스 Automatic Batching이 적용되어 있어 신경 쓰지 않아도 된다.\n\nReact18 automatic batching이 적용 안 됨\n```javascript\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n```\n\nReact18 automatic batching이 적용됨\n```javascript\nconst rootElement = document.getElementById(\"root\");\nReactDOM.createRoot(rootElement).render(<App />);\n```\n\n<br/><br/>\n\n# Automatic Batching을 피하는 방법\n경우에 따라 Batching이 필요 없을 때가 존재 할 것 이다. Batching을 피하기 위해서는 `ReactDOM.flushSync()` 을 사용해야한다.\n\n```javascript\nconst selectedOption2 = async () => {\n  await updateOptionFromServer();\n  ReactDOM.flushSync(() => {\n    setOption1(false);\n  })\n  ReactDOM.flushSync(() => {\n    setOption2(true);\n  })\n};\n```\n\n<div className=\"flex flex-col items-center flex-wrap -mx-2 overflow-hidden xl:-mx-2\">\n  <div className=\"my-1 px-2 w-1/4 overflow-hidden xl:my-1 xl:px-2 xl:w-1/4\">\n    ![focus](https://media3.giphy.com/media/yoJC2D22ruCQKUM1bi/giphy.gif?cid=ecf05e47brp60ybkq5m31xoopnlb0w9p0g71adxefhfyc0j9&rid=giphy.gif&ct=g)\n  </div>\n</div>\n",
    "code": "var Component=(()=>{var h=Object.create;var s=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),w=(n,e)=>{for(var c in e)s(n,c,{get:e[c],enumerable:!0})},i=(n,e,c,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of u(e))!k.call(n,t)&&t!==c&&s(n,t,{get:()=>e[t],enumerable:!(l=m(e,t))||l.enumerable});return n};var b=(n,e,c)=>(c=n!=null?h(N(n)):{},i(e||!n||!n.__esModule?s(c,\"default\",{value:n,enumerable:!0}):c,n)),f=n=>i(s({},\"__esModule\",{value:!0}),n);var r=g((M,o)=>{o.exports=_jsx_runtime});var y={};w(y,{default:()=>p,frontmatter:()=>x});var a=b(r()),x={title:\"React18 automatic batching (\\uC790\\uB3D9 \\uC77C\\uAD04\\uCC98\\uB9AC)\",date:\"2022-05-28\",tags:[\"react\",\"react18\",\"automatic batching\",\"\\uC790\\uB3D9 \\uBC30\\uCE6D\"],draft:!1,summary:\"React18 \\uB300\\uBE44\\uD558\\uC790 automatic batching\"};function d(n){let e={a:\"a\",code:\"code\",h1:\"h1\",hr:\"hr\",img:\"img\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",svg:\"svg\",...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.h1,{className:\"content-header\",id:\"automatic-batching-\\uC774\\uB780\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#automatic-batching-\\uC774\\uB780\",tabIndex:\"-1\",children:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(e.span,{className:\"content-header-link\",children:(0,a.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,a.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,a.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Automatic Batching \\uC774\\uB780?\"]}),(0,a.jsx)(e.p,{children:\"\\uAC1C\\uC778\\uC801\\uC73C\\uB85C react18\\uC5D0\\uC11C \\uD575\\uC2EC \\uAE30\\uB2A5 \\uC911 \\uD558\\uB098\\uAC00 automatic batching \\uC774\\uB77C\\uACE0 \\uC0DD\\uAC01\\uB41C\\uB2E4.\"}),(0,a.jsx)(e.p,{children:\"\\uB0B4\\uBD80\\uC18C\\uC2A4, \\uC678\\uBD80 \\uC18C\\uC2A4 \\uC0C1\\uAD00\\uC5C6\\uC774 state \\uC5C5\\uB370\\uC774\\uD2B8\\uB97C \\uC77C\\uAD04\\uCC98\\uB9AC\\uD558\\uC5EC render\\uAC00 \\uD55C\\uBC88\\uC5D0 \\uC774\\uB8E8\\uC5B4 \\uC9C8 \\uC218 \\uC788\\uB3C4\\uB85D \\uD558\\uAC8C \\uD55C\\uB2E4.\"}),(0,a.jsxs)(e.p,{children:[\"\\uC131\\uB2A5\\uC744 \\uC704\\uD574\\uC11C state\\uBCC0\\uACBD\\uC744 \\uBB36\\uC5B4\\uC11C \\uD55C\\uBC88\\uC5D0 \\uCC98\\uB9AC \\uD574\\uC8FC\\uBA70 render\\uAC00 \\uD55C\\uBC88\\uB9CC \\uC218\\uD589 \\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uB3C4\\uC640\\uC900\\uB2E4. \\uC6B0\\uB9AC\\uB294 React17 \\uC774\\uC804 \\uBC84\\uC804\\uC5D0\\uC11C\\uB294 \\uC77C\\uAD04 \\uCC98\\uB9AC\\uD558\\uAE30 \\uC704\\uD574 \",(0,a.jsx)(e.code,{children:\"ReactDOM.unstable_batchedUpdates\"}),\" \\uB97C \\uD1B5\\uD574 \\uBB34\\uC758\\uBBF8\\uD55C \\uB80C\\uB354\\uB9C1\\uC744 \\uD53C\\uD558\\uB824\\uACE0 \\uB178\\uB825\\uD558\\uC600\\uACE0\"]}),(0,a.jsx)(e.p,{children:\"React17 \\uBC84\\uC804\\uC5D0\\uC11C\\uB294 \\uC790\\uB3D9\\uC73C\\uB85C \\uB0B4\\uBD80 \\uC18C\\uC2A4(\\uD074\\uB9AD \\uC774\\uBCA4\\uD2B8 \\uB4F1) \\uD55C\\uC5D0\\uC11C batch \\uCC98\\uB9AC\\uB97C \\uD574\\uC8FC\\uC5C8\\uB2E4.\"}),(0,a.jsx)(e.p,{children:\"\\uD558\\uC9C0\\uB9CC \\uBE0C\\uB77C\\uC6B0\\uC800 \\uC774\\uBCA4\\uD2B8\\uC758 \\uC5C5\\uB370\\uC774\\uD2B8 \\uC678 \\uC678\\uBD80 \\uC18C\\uC2A4(fetch, setTimeout \\uB4F1)\\uC5D0 \\uB300\\uD574\\uC11C\\uB294 \\uC77C\\uAD04 \\uCC98\\uB9AC\\uD558\\uC9C0 \\uC54A\\uC558\\uB2E4.\"}),(0,a.jsx)(e.hr,{}),(0,a.jsxs)(e.h1,{className:\"content-header\",id:\"\\uAE30\\uC874-batching-\\uC740\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\uAE30\\uC874-batching-\\uC740\",tabIndex:\"-1\",children:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(e.span,{className:\"content-header-link\",children:(0,a.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,a.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,a.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\uAE30\\uC874 batching \\uC740\"]}),(0,a.jsxs)(e.p,{children:[\"React17 \\uC5D0\\uC11C\\uB3C4 batching\\uC744 \\uC9C0\\uC6D0\\uD558\\uC9C0 \\uC54A\\uC740 \\uAC83\\uC774 \\uC544\\uB2C8\\uB2E4. \\uD558\\uC9C0\\uB9CC react18\\uACFC \\uB2E4\\uB978 \\uC810\\uC774 \\uC788\\uB2E4\\uBA74 \\uC678\\uBD80 \\uC18C\\uC2A4(fetch, setTimeout \\uB4F1)\\uC5D0 \\uB300\\uD574\\uC11C\\uB294 \\uC77C\\uAD04\\uCC98\\uB9AC\\uB97C \\uD574\\uC8FC\\uC9C0 \\uC54A\\uC558\\uB2E4. \\uADF8\\uB798\\uC11C \\uC131\\uB2A5 \\uAC1C\\uC120\\uC744 \\uC704\\uD558\\uC5EC \\uC678\\uBD80 \\uC18C\\uC2A4 \\uCF54\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD560\\uB54C\\uB294 \",(0,a.jsx)(e.code,{children:\"ReactDOM.unstable_batchedUpdates\"}),\"\\uB97C \\uC0AC\\uC6A9\\uD574\\uC92C\\uC5C8\\uB2E4.\"]}),(0,a.jsx)(e.p,{children:\"\\uC544\\uB798 \\uC608\\uC2DC\\uB294 option\\uC744 \\uC120\\uD0DD\\uD558\\uBA74 \\uC11C\\uBC84\\uC5D0 \\uC54C\\uB9AC\\uACE0 \\uC635\\uC158 \\uC0C1\\uD0DC\\uB97C \\uBCC0\\uACBD\\uD558\\uB294 \\uC608\\uC2DC\\uAC00 \\uC788\\uB2E4\\uACE0 \\uAC00\\uC815\\uD558\\uC790 option1\\uC740 \\uB0B4\\uBD80 \\uC18C\\uC2A4\\uC774\\uAE30 \\uB54C\\uBB38\\uC5D0 React 17 \\uC5D0\\uC11C\\uB294 \\uC790\\uB3D9\\uC73C\\uB85C state\\uB97C \\uBAA8\\uC544\\uC11C \\uD55C\\uBC88\\uC5D0 \\uB80C\\uB354\\uB9C1 \\uD55C\\uB2E4. \\uD558\\uC9C0\\uB9CC option2\\uB294 \\uC678\\uBD80 \\uC18C\\uC2A4\\uC774\\uAE30\\uC5D0 \\uB80C\\uB354\\uAC00 \\uB450 \\uBC88 \\uC77C\\uC5B4\\uB09C\\uB2E4.\"}),(0,a.jsx)(\"iframe\",{src:\"https://codesandbox.io/embed/charming-poitras-mgcnci?fontsize=14&hidenavigation=1&theme=dark&view=editor\",style:{width:\"100%\",height:\"500px\",border:\"none\",borderRadius:\"4px\",overflow:\"hidden\"},title:\"charming-poitras-mgcnci\",allow:\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\",sandbox:\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"}),(0,a.jsx)(\"br\",{}),(0,a.jsx)(\"br\",{}),(0,a.jsxs)(e.h1,{className:\"content-header\",id:\"react-18-\\uC5D0\\uC11C\\uB294\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#react-18-\\uC5D0\\uC11C\\uB294\",tabIndex:\"-1\",children:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(e.span,{className:\"content-header-link\",children:(0,a.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,a.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,a.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"React 18 \\uC5D0\\uC11C\\uB294\"]}),(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:\"ReactDOM.createRoot\"}),\"\\uC744 \\uC0AC\\uC6A9\\uD558\\uAC8C \\uB418\\uBA74 \\uB0B4\\uBD80 \\uC18C\\uC2A4, \\uC678\\uBD80 \\uC18C\\uC2A4 Automatic Batching\\uC774 \\uC801\\uC6A9\\uB418\\uC5B4 \\uC788\\uC5B4 \\uC2E0\\uACBD \\uC4F0\\uC9C0 \\uC54A\\uC544\\uB3C4 \\uB41C\\uB2E4.\"]}),(0,a.jsx)(e.p,{children:\"React18 automatic batching\\uC774 \\uC801\\uC6A9 \\uC548 \\uB428\"}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" rootElement \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token function method property-access\",children:\"getElementById\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"root\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token function method property-access\",children:\"render\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"App\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" rootElement\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,a.jsx)(e.p,{children:\"React18 automatic batching\\uC774 \\uC801\\uC6A9\\uB428\"}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" rootElement \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token function method property-access\",children:\"getElementById\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"root\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token function method property-access\",children:\"createRoot\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"rootElement\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token function method property-access\",children:\"render\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"App\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,a.jsx)(\"br\",{}),(0,a.jsx)(\"br\",{}),(0,a.jsxs)(e.h1,{className:\"content-header\",id:\"automatic-batching\\uC744-\\uD53C\\uD558\\uB294-\\uBC29\\uBC95\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#automatic-batching\\uC744-\\uD53C\\uD558\\uB294-\\uBC29\\uBC95\",tabIndex:\"-1\",children:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(e.span,{className:\"content-header-link\",children:(0,a.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,a.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,a.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Automatic Batching\\uC744 \\uD53C\\uD558\\uB294 \\uBC29\\uBC95\"]}),(0,a.jsxs)(e.p,{children:[\"\\uACBD\\uC6B0\\uC5D0 \\uB530\\uB77C Batching\\uC774 \\uD544\\uC694 \\uC5C6\\uC744 \\uB54C\\uAC00 \\uC874\\uC7AC \\uD560 \\uAC83 \\uC774\\uB2E4. Batching\\uC744 \\uD53C\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \",(0,a.jsx)(e.code,{children:\"ReactDOM.flushSync()\"}),\" \\uC744 \\uC0AC\\uC6A9\\uD574\\uC57C\\uD55C\\uB2E4.\"]}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token function function-variable\",children:\"selectedOption2\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"updateOptionFromServer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token function method property-access\",children:\"flushSync\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,a.jsx)(e.span,{className:\"token function\",children:\"setOption1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ReactDOM\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token function method property-access\",children:\"flushSync\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,a.jsx)(e.span,{className:\"token function\",children:\"setOption2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,a.jsx)(\"div\",{className:\"flex flex-col items-center flex-wrap -mx-2 overflow-hidden xl:-mx-2\",children:(0,a.jsx)(\"div\",{className:\"my-1 px-2 w-1/4 overflow-hidden xl:my-1 xl:px-2 xl:w-1/4\",children:(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:\"focus\",src:\"https://media3.giphy.com/media/yoJC2D22ruCQKUM1bi/giphy.gif?cid=ecf05e47brp60ybkq5m31xoopnlb0w9p0g71adxefhfyc0j9&rid=giphy.gif&ct=g\"})})})})]})}function p(n={}){let{wrapper:e}=n.components||{};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}return f(y);})();\n;return Component;"
  },
  "_id": "blog/react/react18-automatic-batching.mdx",
  "_raw": {
    "sourceFilePath": "blog/react/react18-automatic-batching.mdx",
    "sourceFileName": "react18-automatic-batching.mdx",
    "sourceFileDir": "blog/react",
    "contentType": "mdx",
    "flattenedPath": "blog/react/react18-automatic-batching"
  },
  "type": "Blog",
  "readingTime": {
    "text": "3 min read",
    "minutes": 2.93,
    "time": 175800,
    "words": 586
  },
  "slug": "react/react18-automatic-batching",
  "path": "blog/react/react18-automatic-batching",
  "filePath": "blog/react/react18-automatic-batching.mdx",
  "toc": [
    {
      "value": "Automatic Batching 이란?",
      "url": "#automatic-batching-이란",
      "depth": 1
    },
    {
      "value": "기존 batching 은",
      "url": "#기존-batching-은",
      "depth": 1
    },
    {
      "value": "React 18 에서는",
      "url": "#react-18-에서는",
      "depth": 1
    },
    {
      "value": "Automatic Batching을 피하는 방법",
      "url": "#automatic-batching을-피하는-방법",
      "depth": 1
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "React18 automatic batching (자동 일괄처리)",
    "datePublished": "2022-05-28T00:00:00.000Z",
    "dateModified": "2022-05-28T00:00:00.000Z",
    "description": "React18 대비하자 automatic batching",
    "image": "/static/images/main-logo-no-bg.png",
    "url": "https://duck-blog.netlify.app/blog/react/react18-automatic-batching"
  }
}