{
  "title": "oauth2.0 이란? (인증 전지적 개발자 시점)",
  "date": "2022-07-02T00:00:00.000Z",
  "tags": [
    "oauth2",
    "web",
    "oidc-client"
  ],
  "draft": true,
  "summary": "oauth2.0 접근 방법을 알아보자",
  "body": {
    "raw": "\nTL;DR 바쁘시면 핵심으로 이동하자 [이동하기](#oauth-flow)\n\n# 들어가기전\n언젠가는 블로그에 글을 쓰고 싶었는데 너무 깊게 들어갈까봐 두서가 없을까 겁이 나서 정리를 못하고 있었습니다. <br/>\n교과서적인 내용을 가볍게 정리하고 역할별로 필수로 구현하여야 하는 요소와 활용하는 방법에 대해서 기록하고자 합니다. <br/>\n또 직접 개발을 하거나 테스트를 한다면 유용한 사이트, 라이브러리를 소개하고자 합니다.\n\n1년 반 정도 OAuth2를 기반으로 인증서버, 리소스서버, 클라이언트 어뎁터를 작업한 경험이 있습니다. <br/>\n👇아래는 제가 개발하면서 사용한 스펙과 참고자료입니다.\n\n- 인증서버, 리소스서버 <br/>\nSpringSecurity로 구성, Auth0 APIC Document 참고, RFC 참고 및 커스텀 <br/>\n&nbsp;&nbsp;&nbsp;[spring-project repo 참고](https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/oauth2/authorization-server)<br/>\n&nbsp;&nbsp;&nbsp;[Auth0 API docs](https://auth0.com/docs/api/authentication) <br/>\n&nbsp;&nbsp;&nbsp;[RFC-6749](https://datatracker.ietf.org/doc/html/rfc6749)\n\n- 클라이언트 구성 및 어댑터(Vue 사내 라이브러리) <br/>\noidc-client.js, keycloak adapter js 참고 <br/>\n&nbsp;&nbsp;&nbsp;[spring-project repo 참고](https://github.com/IdentityModel/oidc-client-js/wiki) <br/>\n&nbsp;&nbsp;&nbsp;[keycloak adapter 참고](https://github.com/keycloak/keycloak-documentation/blob/main/securing_apps/topics/oidc/javascript-adapter.adoc)\n\n\n<br/><br/>\n\n# OAuth 이란\n> 2006년 11월 블레인 쿡은 트위터에 OpenID를 탑재하는 작업을 하고 있었다. \n> 같은 시기, 소셜 북마크 사이트인 Ma.gnolia는, 회원이 OpenID를 사용하여 대시보드 위젯으로 서비스에 접속할 수 있는 인증 방법을 필요로 하고 있었다. \n> 이에 쿡, 크리스 메시나, 래리 하프(Ma.gnolia)는 데이비드 리코던(당시 베리사인)과 만나 OpenID를 활용해 트위터나 Ma.gnolia의 API로 인증을 위임하는 방법을 논의했다. \n> 그 결과, API 접근 위임에 대한 공개 표준이 아직 존재하지 않는다는 결론에 이르렀다.\n> (출처: wiki)\n\n요약하자면 믿을 만한 Third Party에게 인증 부분을 맡기는게 어떨까 라는 아이디어로 부터 출발했습니다.\n\n즉, 접근 권한을 위임하여 인증을 처리합니다. 인증 서버는 OAuth2.0 스펙에 맞게 제공하고 클라이언트들은 인증서버가 요구하는 스펙을 구성하여 통신을 합니다.\n(OAuth2.0 을 활용한 서비스들을 보면 기본 틀은 비슷합니다 e.g. Auth0...)\n\n# OAuth Flow\n\n",
    "code": "var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var b=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports),f=(t,a)=>{for(var r in a)l(t,r,{get:a[r],enumerable:!0})},h=(t,a,r,i)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let n of m(a))!w.call(t,n)&&n!==r&&l(t,n,{get:()=>a[n],enumerable:!(i=u(a,n))||i.enumerable});return t};var k=(t,a,r)=>(r=t!=null?p(g(t)):{},h(a||!t||!t.__esModule?l(r,\"default\",{value:t,enumerable:!0}):r,t)),x=t=>h(l({},\"__esModule\",{value:!0}),t);var o=b((A,c)=>{c.exports=_jsx_runtime});var j={};f(j,{default:()=>s,frontmatter:()=>v});var e=k(o()),v={title:\"oauth2.0 \\uC774\\uB780? (\\uC778\\uC99D \\uC804\\uC9C0\\uC801 \\uAC1C\\uBC1C\\uC790 \\uC2DC\\uC810)\",date:\"2022-07-02\",tags:[\"oauth2\",\"web\",\"oidc-client\"],draft:!0,summary:\"oauth2.0 \\uC811\\uADFC \\uBC29\\uBC95\\uC744 \\uC54C\\uC544\\uBCF4\\uC790\"};function d(t){let a={a:\"a\",blockquote:\"blockquote\",h1:\"h1\",li:\"li\",p:\"p\",path:\"path\",span:\"span\",svg:\"svg\",ul:\"ul\",...t.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(a.p,{children:[\"TL;DR \\uBC14\\uC058\\uC2DC\\uBA74 \\uD575\\uC2EC\\uC73C\\uB85C \\uC774\\uB3D9\\uD558\\uC790 \",(0,e.jsx)(a.a,{href:\"#oauth-flow\",children:\"\\uC774\\uB3D9\\uD558\\uAE30\"})]}),(0,e.jsxs)(a.h1,{className:\"content-header\",id:\"\\uB4E4\\uC5B4\\uAC00\\uAE30\\uC804\",children:[(0,e.jsx)(a.a,{href:\"#\\uB4E4\\uC5B4\\uAC00\\uAE30\\uC804\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(a.span,{className:\"content-header-link\",children:(0,e.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\uB4E4\\uC5B4\\uAC00\\uAE30\\uC804\"]}),(0,e.jsxs)(a.p,{children:[\"\\uC5B8\\uC820\\uAC00\\uB294 \\uBE14\\uB85C\\uADF8\\uC5D0 \\uAE00\\uC744 \\uC4F0\\uACE0 \\uC2F6\\uC5C8\\uB294\\uB370 \\uB108\\uBB34 \\uAE4A\\uAC8C \\uB4E4\\uC5B4\\uAC08\\uAE4C\\uBD10 \\uB450\\uC11C\\uAC00 \\uC5C6\\uC744\\uAE4C \\uAC81\\uC774 \\uB098\\uC11C \\uC815\\uB9AC\\uB97C \\uBABB\\uD558\\uACE0 \\uC788\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \",(0,e.jsx)(\"br\",{}),\"\\uAD50\\uACFC\\uC11C\\uC801\\uC778 \\uB0B4\\uC6A9\\uC744 \\uAC00\\uBCCD\\uAC8C \\uC815\\uB9AC\\uD558\\uACE0 \\uC5ED\\uD560\\uBCC4\\uB85C \\uD544\\uC218\\uB85C \\uAD6C\\uD604\\uD558\\uC5EC\\uC57C \\uD558\\uB294 \\uC694\\uC18C\\uC640 \\uD65C\\uC6A9\\uD558\\uB294 \\uBC29\\uBC95\\uC5D0 \\uB300\\uD574\\uC11C \\uAE30\\uB85D\\uD558\\uACE0\\uC790 \\uD569\\uB2C8\\uB2E4. \",(0,e.jsx)(\"br\",{}),\"\\uB610 \\uC9C1\\uC811 \\uAC1C\\uBC1C\\uC744 \\uD558\\uAC70\\uB098 \\uD14C\\uC2A4\\uD2B8\\uB97C \\uD55C\\uB2E4\\uBA74 \\uC720\\uC6A9\\uD55C \\uC0AC\\uC774\\uD2B8, \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB97C \\uC18C\\uAC1C\\uD558\\uACE0\\uC790 \\uD569\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(a.p,{children:[\"1\\uB144 \\uBC18 \\uC815\\uB3C4 OAuth2\\uB97C \\uAE30\\uBC18\\uC73C\\uB85C \\uC778\\uC99D\\uC11C\\uBC84, \\uB9AC\\uC18C\\uC2A4\\uC11C\\uBC84, \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uC5B4\\uB381\\uD130\\uB97C \\uC791\\uC5C5\\uD55C \\uACBD\\uD5D8\\uC774 \\uC788\\uC2B5\\uB2C8\\uB2E4. \",(0,e.jsx)(\"br\",{}),\"\\u{1F447}\\uC544\\uB798\\uB294 \\uC81C\\uAC00 \\uAC1C\\uBC1C\\uD558\\uBA74\\uC11C \\uC0AC\\uC6A9\\uD55C \\uC2A4\\uD399\\uACFC \\uCC38\\uACE0\\uC790\\uB8CC\\uC785\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(a.ul,{children:[(0,e.jsx)(a.li,{children:(0,e.jsxs)(a.p,{children:[\"\\uC778\\uC99D\\uC11C\\uBC84, \\uB9AC\\uC18C\\uC2A4\\uC11C\\uBC84 \",(0,e.jsx)(\"br\",{}),\"SpringSecurity\\uB85C \\uAD6C\\uC131, Auth0 APIC Document \\uCC38\\uACE0, RFC \\uCC38\\uACE0 \\uBC0F \\uCEE4\\uC2A4\\uD140 \",(0,e.jsx)(\"br\",{}),\"\\xA0\\xA0\\xA0\",(0,e.jsx)(a.a,{href:\"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/oauth2/authorization-server\",children:\"spring-project repo \\uCC38\\uACE0\"}),(0,e.jsx)(\"br\",{}),\" \\xA0\\xA0\\xA0\",(0,e.jsx)(a.a,{href:\"https://auth0.com/docs/api/authentication\",children:\"Auth0 API docs\"}),\" \",(0,e.jsx)(\"br\",{}),\"\\xA0\\xA0\\xA0\",(0,e.jsx)(a.a,{href:\"https://datatracker.ietf.org/doc/html/rfc6749\",children:\"RFC-6749\"})]})}),(0,e.jsx)(a.li,{children:(0,e.jsxs)(a.p,{children:[\"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uAD6C\\uC131 \\uBC0F \\uC5B4\\uB311\\uD130(Vue \\uC0AC\\uB0B4 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC) \",(0,e.jsx)(\"br\",{}),\"oidc-client.js, keycloak adapter js \\uCC38\\uACE0 \",(0,e.jsx)(\"br\",{}),\"\\xA0\\xA0\\xA0\",(0,e.jsx)(a.a,{href:\"https://github.com/IdentityModel/oidc-client-js/wiki\",children:\"spring-project repo \\uCC38\\uACE0\"}),\" \",(0,e.jsx)(\"br\",{}),\"\\xA0\\xA0\\xA0\",(0,e.jsx)(a.a,{href:\"https://github.com/keycloak/keycloak-documentation/blob/main/securing_apps/topics/oidc/javascript-adapter.adoc\",children:\"keycloak adapter \\uCC38\\uACE0\"})]})})]}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(\"br\",{}),(0,e.jsxs)(a.h1,{className:\"content-header\",id:\"oauth-\\uC774\\uB780\",children:[(0,e.jsx)(a.a,{href:\"#oauth-\\uC774\\uB780\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(a.span,{className:\"content-header-link\",children:(0,e.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"OAuth \\uC774\\uB780\"]}),(0,e.jsx)(a.blockquote,{children:(0,e.jsx)(a.p,{children:\"2006\\uB144 11\\uC6D4 \\uBE14\\uB808\\uC778 \\uCFE1\\uC740 \\uD2B8\\uC704\\uD130\\uC5D0 OpenID\\uB97C \\uD0D1\\uC7AC\\uD558\\uB294 \\uC791\\uC5C5\\uC744 \\uD558\\uACE0 \\uC788\\uC5C8\\uB2E4. \\uAC19\\uC740 \\uC2DC\\uAE30, \\uC18C\\uC15C \\uBD81\\uB9C8\\uD06C \\uC0AC\\uC774\\uD2B8\\uC778 Ma.gnolia\\uB294, \\uD68C\\uC6D0\\uC774 OpenID\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uB300\\uC2DC\\uBCF4\\uB4DC \\uC704\\uC82F\\uC73C\\uB85C \\uC11C\\uBE44\\uC2A4\\uC5D0 \\uC811\\uC18D\\uD560 \\uC218 \\uC788\\uB294 \\uC778\\uC99D \\uBC29\\uBC95\\uC744 \\uD544\\uC694\\uB85C \\uD558\\uACE0 \\uC788\\uC5C8\\uB2E4. \\uC774\\uC5D0 \\uCFE1, \\uD06C\\uB9AC\\uC2A4 \\uBA54\\uC2DC\\uB098, \\uB798\\uB9AC \\uD558\\uD504(Ma.gnolia)\\uB294 \\uB370\\uC774\\uBE44\\uB4DC \\uB9AC\\uCF54\\uB358(\\uB2F9\\uC2DC \\uBCA0\\uB9AC\\uC0AC\\uC778)\\uACFC \\uB9CC\\uB098 OpenID\\uB97C \\uD65C\\uC6A9\\uD574 \\uD2B8\\uC704\\uD130\\uB098 Ma.gnolia\\uC758 API\\uB85C \\uC778\\uC99D\\uC744 \\uC704\\uC784\\uD558\\uB294 \\uBC29\\uBC95\\uC744 \\uB17C\\uC758\\uD588\\uB2E4. \\uADF8 \\uACB0\\uACFC, API \\uC811\\uADFC \\uC704\\uC784\\uC5D0 \\uB300\\uD55C \\uACF5\\uAC1C \\uD45C\\uC900\\uC774 \\uC544\\uC9C1 \\uC874\\uC7AC\\uD558\\uC9C0 \\uC54A\\uB294\\uB2E4\\uB294 \\uACB0\\uB860\\uC5D0 \\uC774\\uB974\\uB800\\uB2E4. (\\uCD9C\\uCC98: wiki)\"})}),(0,e.jsx)(a.p,{children:\"\\uC694\\uC57D\\uD558\\uC790\\uBA74 \\uBBFF\\uC744 \\uB9CC\\uD55C Third Party\\uC5D0\\uAC8C \\uC778\\uC99D \\uBD80\\uBD84\\uC744 \\uB9E1\\uAE30\\uB294\\uAC8C \\uC5B4\\uB5A8\\uAE4C \\uB77C\\uB294 \\uC544\\uC774\\uB514\\uC5B4\\uB85C \\uBD80\\uD130 \\uCD9C\\uBC1C\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(a.p,{children:\"\\uC989, \\uC811\\uADFC \\uAD8C\\uD55C\\uC744 \\uC704\\uC784\\uD558\\uC5EC \\uC778\\uC99D\\uC744 \\uCC98\\uB9AC\\uD569\\uB2C8\\uB2E4. \\uC778\\uC99D \\uC11C\\uBC84\\uB294 OAuth2.0 \\uC2A4\\uD399\\uC5D0 \\uB9DE\\uAC8C \\uC81C\\uACF5\\uD558\\uACE0 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uB4E4\\uC740 \\uC778\\uC99D\\uC11C\\uBC84\\uAC00 \\uC694\\uAD6C\\uD558\\uB294 \\uC2A4\\uD399\\uC744 \\uAD6C\\uC131\\uD558\\uC5EC \\uD1B5\\uC2E0\\uC744 \\uD569\\uB2C8\\uB2E4. (OAuth2.0 \\uC744 \\uD65C\\uC6A9\\uD55C \\uC11C\\uBE44\\uC2A4\\uB4E4\\uC744 \\uBCF4\\uBA74 \\uAE30\\uBCF8 \\uD2C0\\uC740 \\uBE44\\uC2B7\\uD569\\uB2C8\\uB2E4 e.g. Auth0...)\"}),(0,e.jsxs)(a.h1,{className:\"content-header\",id:\"oauth-flow\",children:[(0,e.jsx)(a.a,{href:\"#oauth-flow\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(a.span,{className:\"content-header-link\",children:(0,e.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"OAuth Flow\"]})]})}function s(t={}){let{wrapper:a}=t.components||{};return a?(0,e.jsx)(a,{...t,children:(0,e.jsx)(d,{...t})}):d(t)}return x(j);})();\n;return Component;"
  },
  "_id": "blog/web/oauth2.mdx",
  "_raw": {
    "sourceFilePath": "blog/web/oauth2.mdx",
    "sourceFileName": "oauth2.mdx",
    "sourceFileDir": "blog/web",
    "contentType": "mdx",
    "flattenedPath": "blog/web/oauth2"
  },
  "type": "Blog",
  "readingTime": {
    "text": "4 min read",
    "minutes": 3.035,
    "time": 182100,
    "words": 607
  },
  "slug": "web/oauth2",
  "path": "blog/web/oauth2",
  "filePath": "blog/web/oauth2.mdx",
  "toc": [
    {
      "value": "들어가기전",
      "url": "#들어가기전-3",
      "depth": 1
    },
    {
      "value": "OAuth 이란",
      "url": "#oauth-이란",
      "depth": 1
    },
    {
      "value": "OAuth Flow",
      "url": "#oauth-flow",
      "depth": 1
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "oauth2.0 이란? (인증 전지적 개발자 시점)",
    "datePublished": "2022-07-02T00:00:00.000Z",
    "dateModified": "2022-07-02T00:00:00.000Z",
    "description": "oauth2.0 접근 방법을 알아보자",
    "image": "/static/images/main-logo-no-bg.png",
    "url": "https://duck-blog.netlify.app/blog/web/oauth2"
  }
}