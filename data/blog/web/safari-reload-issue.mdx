---
title: 'Safari 브라우저 리로드 현상: 이미지 디코딩이 원인?'
date: '2025-03-16'
tags: ['Safari', '브라우저 리로드', '메모리 초과', '이미지 디코딩']
draft: false
summary: 'Safari에서 특정 페이지가 갑자기 리로드되는 이유는 무엇일까? 이미지 디코딩 과정에서 발생하는 메모리 문제를 분석하고 해결책을 제시한다.'
---

<div className="my-1 w-full overflow-hidden px-2 xl:px-2">
  ![thumbnail](/static/images/safari-reload-issue/main.png)
</div>

# 혹시 브라우저가 예기치 못하게 리로드되고 있나요? 이미지 문제 아닌가요?

웹사이트를 개발하거나 사용할 때, 특정 페이지가 갑자기 리로드되는 현상을 경험한 적이 있나요?
단순한 브라우저 오류라고 생각하기 쉽지만, 사실 그 원인은 이미지 디코딩 과정에서 발생하는 과도한 메모리 사용 때문일 수 있습니다.

특히, 고해상도 이미지나 대량의 이미지 데이터를 포함하는 페이지에서 이 문제가 더욱 심각하게 나타납니다.
브라우저는 메모리를 효율적으로 사용해야 하지만, 특정 상황에서는 이를 감당하지 못하고 강제적으로 페이지를 리로드하는데,
특히 Safari는 다른 브라우저보다 더욱 엄격한 메모리 제한을 적용하기 때문에 리로드가 더 자주 발생할 가능성이 높습니다.

# Safari에서 리로드가 발생하는 이유

사실, **이미지 디코딩으로 인한 메모리 문제는 Safari만의 문제가 아닙니다.** 크롬, 파이어폭스 등 대부분의 브라우저에서도 동일한 원리로 메모리 초과가 발생할 수 있습니다. 하지만, **Safari는 특히 메모리 관리 정책이 더 보수적**이며, 시스템 메모리 사용량이 일정 한도를 초과하면 강제로 페이지를 리로드하는 경우가 더 빈번하게 발생합니다.

이는 특히 **모바일 환경에서 두드러지는데**, 일반적으로 모바일 기기의 RAM이 데스크톱보다 적고, Safari는 iOS 환경에서 시스템 안정성을 유지하기 위해 **더 엄격한 메모리 제한을 적용**하기 때문입니다.

# 이미지가 브라우저에서 렌더링되는 과정

<div className="my-1 w-full overflow-hidden px-2 xl:px-2">
  ![브라우저에서 이미지 렌더링 sequence](/static/images/safari-reload-issue/diagram.png)
</div>

## 이미지 디코딩 및 메모리 사용 문제

위 과정을 보면 **CPU 디코딩(4번)부터 문제가 시작됩니다.** CPU가 압축을 해제한 후, RGBA 데이터로 변환하면서 RAM을 사용하게 되는데, 이때 필요한 RAM 용량이 상당합니다.

추가로 **GPU가 처리하기 위해 VRAM으로 데이터를 업로드할 때도 메모리 사용량이 급증**합니다. 이 과정에서 브라우저가 버티지 못하고 리로드를 실행하게 됩니다.

예를 들어, **8000px × 8000px**의 이미지를 로드하면 압축을 풀어 RAM에 저장할 때 **256MB 이상**을 차지하게 되며, 일반적인 사용자 환경에서는 브라우저가 이를 감지하고 강제 리로드를 실행하게 됩니다.

특히 **모바일 환경에서는 100% 리로드가 발생**할 가능성이 높습니다.

## 데스크톱 vs 모바일 브라우저 메모리 관리 비교

| 요소                 | 데스크톱                 | 모바일                                 |
| -------------------- | ------------------------ | -------------------------------------- |
| CPU 디코딩 성능      | 고성능 멀티코어 CPU 사용 | 저전력 모바일 CPU 사용                 |
| RAM 용량             | 8GB ~ 64GB 이상          | 3GB ~ 12GB (일반적으로 적음)           |
| VRAM (GPU 메모리)    | 독립적 GPU VRAM 보유     | 시스템 RAM과 공유                      |
| 브라우저 메모리 관리 | 상대적으로 자유로움      | 엄격한 메모리 제한                     |
| Lazy Loading         | 가끔 필요                | 강제 적용 (배터리 절약 목적)           |
| 강제 리로드          | 메모리 초과 시 발생 가능 | 더 자주 발생 (RAM 부족 시 강제 리로드) |

# 해결 방법

결국 **이미지의 절대적인 사이즈를 줄이고, 퀄리티를 낮추는 것이 현실적인 해결책**입니다. 이를 위해 다양한 이미지 최적화 방법을 활용할 수 있습니다.

✅ **CDN 기반 이미지 최적화 서비스**

- Cloudflare, Imgix, Cloudinary 등을 활용하여 최적화된 이미지를 제공
- 브라우저에 맞는 적절한 포맷(WebP, AVIF 등)으로 자동 변환 가능

✅ **API 기반 이미지 최적화 서비스**

- TinyPNG, Squoosh API 등을 활용하여 서버에서 실시간으로 이미지 압축
- 필요할 때만 최적화하여 불필요한 리소스 낭비 방지

✅ **CMS 및 플랫폼 내장 이미지 최적화 서비스**

- WordPress의 Jetpack 이미지 최적화, Shopify의 자동 이미지 압축 기능 활용
- 플랫폼 내에서 자동 최적화하여 개발 리소스를 절감

✅ **오픈소스 이미지 최적화 툴 (로컬/서버용)**

- `Sharp`, `MozJPEG`, `ImageMagick` 등을 활용하여 자체적으로 이미지 최적화
- Next.js의 `next/image` 컴포넌트를 활용하면 브라우저별 최적화된 이미지 제공 가능

# 결론

- **브라우저 리로드 현상은 이미지 디코딩 과정에서 발생하는 과도한 메모리 사용이 주요 원인이다.**
- **모든 브라우저에서 발생할 수 있지만, 특히 모바일 환경에서 강제 리로드 확률이 높다.**
- **이미지 사이즈를 줄이고, 퀄리티를 낮추는 것이 현실적인 해결책이며, 다양한 최적화 기법을 활용해야 한다.**

여러분은 이미지 최적화를 어떻게 진행하고 계신가요? 의견을 댓글로 공유해주세요!
