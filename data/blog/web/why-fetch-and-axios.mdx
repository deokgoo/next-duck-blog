---
title: "fetch, axios 란? (with Fetch)"
date: "2021-09-12"
tags: ['web', 'fetch', 'axios']
draft: false
summary: 'fetch, axios 사용 이유를 알아보자'
---

## 들어가기전
라이브러리를 사용할 수 없는 환경에서 js를 작성한적이 있었는데
`XMLHttpRequest`을 사용하여 낡은 코드를 작성한다고(2019년에) 코칭을 받고 충격을 먹어 `Axios, Fetch`에 대해서 정리 하였습니다.

<br/>

## 본론
### 1. Fetch
XMLHttpRequest API의 대체제로 간단하게 사용하는 것이 가능합니다.

    특징
    - Promise패턴을 사용하고 있습니다.
    - Promise 객체는 HTTP error 상태를 reject하지 않습니다.
    대신 ok 상태가 false인 resolve가 반환되고 네트워크 에러 상태에는 reject가 반환됩니다.
    - 기본적으로 fetch는 쿠키를 보내거나 받지 않습니다.  (필요하면 credentials설정을 통하여 쿠키 전송)
    - 간단하게 사용할 수 있으며 module import가 필요없다.

    👇 MDN에 정리가 잘되어있어서 가져왔습니다.
    [MDN 참고](https://developer.mozilla.org/ko/docs/Web/API/Fetch_API/Using_Fetch#%EB%A6%AC%ED%80%98%EC%8A%A4%ED%8A%B8%EC%9D%98_%EC%98%B5%EC%85%98_%EC%A0%81%EC%9A%A9)

```javascript
postData('http://example.com/answer', {answer: 42})
  .then(data => console.log(JSON.stringify(data)))
  .catch(error => console.error(error));

function postData(url = '', data = {}) {
    return fetch(url, {
        method: 'POST',
        mode: 'cors',
        cache: 'no-cache',
        credentials: 'same-origin',
        headers: {
            'Content-Type': 'application/json',
        },
        redirect: 'follow',
        referrer: 'no-referrer',
        body: JSON.stringify(data),
    })
    .then(response => response.json());
}
```

